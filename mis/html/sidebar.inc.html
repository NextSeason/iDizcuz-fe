<?php 
    function focus( $page = null, $match = null ) {
        if( is_null( $page ) || is_null( $match ) ) return;
        if( $page == $match ) echo ' focus '; 
    }
?>
<div class="aside">
    <ul class="item-list">
        <li>
            <a href="###" class="l1">
                <i class="fa fa-plus-square"></i> 数据查看
            </a>
            <ul>
                <li>
                    <a href="###" class="items">
                        <i class="fa fa-level-up flip"></i> 当日数据
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="###" class="l1">
                <i class="fa fa-plus-square"></i> 话题管理
            </a>
            <ul>
                <li>
                    <a href="/mis/page/topic" class="topic">
                        <i class="fa fa-level-up flip"></i> 添加新话题
                    </a>
                </li>
                <li>
                    <a href="/mis/page/topics" class="topics">
                        <i class="fa fa-level-up flip"></i> 话题列表
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="###" class="l1">
                <i class="fa fa-plus-square"></i> 话题资料管理
            </a>
            <ul>
                <li>
                    <a href="/mis/page/article" class="article">
                        <i class="fa fa-level-up flip"></i> 添加话题资料
                    </a>
                </li>
                <li>
                    <a href="/mis/page/articles" class="articles">
                        <i class="fa fa-level-up flip"></i> 话题资料列表
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="###" class="l1">
                <i class="fa fa-plus-square"></i> 论述管理
            </a>
            <ul>
                <li>
                    <a href="/mis/page/post" class="items">
                        <i class="fa fa-level-up flip"></i> 论述搜索
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="###" class="l1">
                <i class="fa fa-plus-square"></i> 审核管理
            </a>
            <ul>
                <li>
                    <a href="###" class="items">
                        <i class="fa fa-level-up flip"></i> 待审核列表
                    </a>
                </li>
                <li>
                    <a href="###" class="items">
                        <i class="fa fa-level-up flip"></i> 已审核列表
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="###" class="l1">
                <i class="fa fa-plus-square"></i> 用户管理
            </a>
            <ul>
                <li>
                    <a href="/mis/page/user" class="items <?php focus( $nav, 'user' ); ?>">
                        <i class="fa fa-level-up flip"></i> 用户查找
                    </a>
                </li>
                <li>
                    <a href="/mis/page/bannedusers" class="items <?php focus( $nav, 'bannedusers' ); ?>">
                        <i class="fa fa-level-up flip"></i> 用户封禁
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="/mis/page/reports?status=0" class="l1">
                <i class="fa fa-plus-square"></i> 举报管理
            </a>
            <ul>
                <li>
                    <a href="/mis/page/reports?status=0" class="items <?php focus( $nav, 'report-0' ); ?>">
                        <i class="fa fa-level-up flip"></i> 待处理举报
                    </a>
                </li>
                <li>
                    <a href="/mis/page/reports?status=1" class="items <?php focus( $nav, 'report-1' ); ?>">
                        <i class="fa fa-level-up flip"></i> 已处理（成功）举报
                    </a>
                </li>
                <li>
                    <a href="/mis/page/reports?status=2" class="items <?php focus( $nav, 'report-2' ); ?>">
                        <i class="fa fa-level-up flip"></i> 已处理（失败）举报
                    </a>
                </li>
                <li>
                    <a href="/mis/page/reports?status=3" class="items <?php focus( $nav, 'report-3' ); ?>">
                        <i class="fa fa-level-up flip"></i> 已处理（忽略）举报
                    </a>
                </li>
            </ul>
        </li>
    </ul>
    <script>
        ( function() {
            var pathname = location.pathname,
                focus = pathname.substr( pathname.lastIndexOf( '/' ) + 1 );

            $( '.sidebar .item-list .' + focus ).addClass( 'focus' );
        })();
    </script>
</div>
